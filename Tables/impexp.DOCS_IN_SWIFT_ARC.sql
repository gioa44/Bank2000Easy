CREATE TABLE [impexp].[DOCS_IN_SWIFT_ARC]
(
[PORTION_DATE] [smalldatetime] NOT NULL,
[PORTION] [int] NOT NULL,
[ROW_ID] [int] NOT NULL,
[UID] [int] NOT NULL,
[REF_NUM] [varchar] (32) COLLATE Latin1_General_BIN NOT NULL,
[DATE] [smalldatetime] NOT NULL,
[ISO] [dbo].[TISO] NOT NULL,
[AMOUNT] [money] NOT NULL,
[DESCRIP] [varchar] (150) COLLATE Latin1_General_BIN NULL,
[SENDER_BANK_CODE] [varchar] (37) COLLATE Latin1_General_BIN NOT NULL,
[SENDER_BANK_NAME] [varchar] (105) COLLATE Latin1_General_BIN NULL,
[SENDER_ACC] [varchar] (37) COLLATE Latin1_General_BIN NOT NULL,
[SENDER_ACC_NAME] [varchar] (105) COLLATE Latin1_General_BIN NULL,
[RECEIVER_BANK_CODE] [varchar] (37) COLLATE Latin1_General_BIN NOT NULL,
[RECEIVER_BANK_NAME] [varchar] (105) COLLATE Latin1_General_BIN NULL,
[RECEIVER_ACC] [varchar] (37) COLLATE Latin1_General_BIN NOT NULL,
[RECEIVER_ACC_NAME] [varchar] (105) COLLATE Latin1_General_BIN NULL,
[INTERMED_BANK_CODE] [varchar] (37) COLLATE Latin1_General_BIN NULL,
[INTERMED_BANK_NAME] [varchar] (105) COLLATE Latin1_General_BIN NULL,
[COR_BANK_CODE] [varchar] (37) COLLATE Latin1_General_BIN NULL,
[COR_BANK_NAME] [varchar] (100) COLLATE Latin1_General_BIN NULL,
[CORRESPONDENT_BANK_ID] [int] NULL,
[COR_COUNTRY] [char] (2) COLLATE Latin1_General_BIN NULL,
[TAG_53X_STATUS] [char] (1) COLLATE Latin1_General_BIN NULL,
[TAG_53X_VALUE] [varchar] (37) COLLATE Latin1_General_BIN NULL,
[TAG_54X_STATUS] [char] (1) COLLATE Latin1_General_BIN NULL,
[TAG_54X_VALUE] [varchar] (35) COLLATE Latin1_General_BIN NULL,
[EXTRA_INFO] [varchar] (255) COLLATE Latin1_General_BIN NULL,
[EXTRA_INFO_DESCRIP] [bit] NOT NULL,
[DET_OF_CHARG] [char] (3) COLLATE Latin1_General_BIN NULL,
[SWIFT_TEXT] [text] COLLATE Latin1_General_BIN NULL,
[STATE] [int] NOT NULL,
[IS_READY] [bit] NOT NULL,
[IS_FINALYZED] [bit] NOT NULL,
[ACCOUNT] [dbo].[TACCOUNT] NULL,
[ACC_ID] [int] NULL,
[OTHER_INFO] [varchar] (250) COLLATE Latin1_General_BIN NULL,
[ERROR_REASON] [varchar] (100) COLLATE Latin1_General_BIN NULL,
[DOC_DATE] [smalldatetime] NULL,
[SWIFT_FILE_ROW_ID] [int] NOT NULL,
[SWIFT_FILENAME] [varchar] (100) COLLATE Latin1_General_BIN NOT NULL,
[FINALYZE_DATE] [smalldatetime] NULL,
[FINALYZE_BANK_ID] [int] NULL,
[FINALYZE_ACC_ID] [int] NULL,
[FINALYZE_AMOUNT] [money] NULL,
[FINALYZE_ISO] [dbo].[TISO] NULL,
[FINALYZE_DOC_REC_ID] [int] NULL,
[DOC_REC_ID] [int] NULL,
[IS_AUTHORIZED] [bit] NULL,
[IS_MODIFIED] [bit] NULL
) ON [ARCHIVE] TEXTIMAGE_ON [PRIMARY]
GO
ALTER TABLE [impexp].[DOCS_IN_SWIFT_ARC] ADD CONSTRAINT [PK_DOCS_IN_SWIFT_ARC] PRIMARY KEY CLUSTERED  ([PORTION_DATE], [PORTION], [ROW_ID]) ON [ARCHIVE]
GO
CREATE NONCLUSTERED INDEX [IX_DOCS_IN_SWIFT_ARC_DOC_REC_ID] ON [impexp].[DOCS_IN_SWIFT_ARC] ([DOC_REC_ID]) ON [ARCHIVE]
GO
ALTER TABLE [impexp].[DOCS_IN_SWIFT_ARC] ADD CONSTRAINT [FK_DOCS_IN_ARC_SWIFT_PORTIONS_IN_SWIFT_ARC] FOREIGN KEY ([PORTION_DATE], [PORTION]) REFERENCES [impexp].[PORTIONS_IN_SWIFT_ARC] ([PORTION_DATE], [PORTION])
GO
