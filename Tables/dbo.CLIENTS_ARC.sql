CREATE TABLE [dbo].[CLIENTS_ARC]
(
[REC_ID] [int] NOT NULL,
[CLIENT_NO] [int] NOT NULL,
[BRANCH_ID] [int] NULL,
[DEPT_NO] [int] NULL,
[CLIENT_TYPE] [tinyint] NOT NULL,
[CLIENT_SUBTYPE] [tinyint] NULL,
[REC_STATE] [tinyint] NOT NULL,
[COMPLETED] [bit] NOT NULL,
[RESPONSIBLE_USER_ID] [int] NULL,
[CLIENT_TYPE_BANK] [tinyint] NOT NULL,
[DESCRIP] [varchar] (100) COLLATE Latin1_General_BIN NOT NULL,
[DESCRIP_LAT] [varchar] (100) COLLATE Latin1_General_BIN NOT NULL,
[CLIENT_REG_DATE] [smalldatetime] NULL,
[IS_RESIDENT] [bit] NOT NULL,
[IS_INSIDER] [bit] NOT NULL,
[COUNTRY] [char] (2) COLLATE Latin1_General_BIN NULL,
[FIRST_NAME] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[LAST_NAME] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[FIRST_NAME_LAT] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[LAST_NAME_LAT] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[FATHERS_NAME] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[FATHERS_NAME_LAT] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[MALE_FEMALE] [bit] NULL,
[TAX_INSP_CITY] [varchar] (20) COLLATE Latin1_General_BIN NULL,
[TAX_INSP_CODE] [varchar] (11) COLLATE Latin1_General_BIN NULL,
[PASSPORT_TYPE_ID] [tinyint] NULL,
[PASSPORT_COUNTRY] [char] (2) COLLATE Latin1_General_BIN NULL,
[PASSPORT_ISSUE_DT] [smalldatetime] NULL,
[PASSPORT_END_DATE] [smalldatetime] NULL,
[PASSPORT] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[PASSPORT_REG_ORGAN] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[PERSONAL_ID] [varchar] (20) COLLATE Latin1_General_BIN NULL,
[PASSPORT_NEEDED] [bit] NULL,
[PHONE_PIN] [varchar] (10) COLLATE Latin1_General_BIN NULL,
[COMMENT] [varchar] (200) COLLATE Latin1_General_BIN NULL,
[RATE_POLITICS_ID] [int] NULL,
[RATE_DIFF_TYPE] [bit] NOT NULL,
[RATE_TARIFF_ALWAYS_IN_GEL] [bit] NOT NULL,
[IS_BUDJET] AS (CONVERT([bit],case  when [CLIENT_TYPE]=(3) OR [CLIENT_TYPE]=(2) then (0) else (1) end,(0))),
[IS_JURIDICAL] AS (CONVERT([bit],case  when [CLIENT_TYPE]=(1) then (0) else (1) end,(0))),
[CITY] [varchar] (20) COLLATE Latin1_General_BIN NULL,
[PHONE1] [varchar] (62) COLLATE Latin1_General_BIN NULL,
[PHONE2] [varchar] (12) COLLATE Latin1_General_BIN NULL,
[BIRTH_DATE] [smalldatetime] NULL,
[BIRTH_PLACE] [varchar] (100) COLLATE Latin1_General_BIN NULL,
[MARITAL_STATUS] [tinyint] NULL,
[ORG_TYPE] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[REG_NUM] [varchar] (30) COLLATE Latin1_General_BIN NULL,
[REG_DATE] [smalldatetime] NULL,
[REG_ORGAN] [varchar] (50) COLLATE Latin1_General_BIN NULL,
[SEGMENT] [tinyint] NULL,
[CITY_LAT] [varchar] (20) COLLATE Latin1_General_BIN NULL,
[IS_EMPLOYEE] [bit] NULL,
[IS_IN_BLACK_LIST] [bit] NULL,
[IS_CONTROL] [bit] NULL,
[LOAN_LIMIT_AMOUNT] [money] NULL,
[LOAN_LIMIT_ISO] [dbo].[TISO] NULL,
[CLIENT_SUBTYPE2] [int] NULL,
[IS_AUTHORIZED] [bit] NULL,
[SMART_CARD_NO] [varchar] (100) COLLATE Latin1_General_BIN NULL
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[CLIENTS_ARC] ADD CONSTRAINT [PK_CLIENTS_ARC] PRIMARY KEY CLUSTERED  ([REC_ID]) ON [PRIMARY]
GO
ALTER TABLE [dbo].[CLIENTS_ARC] ADD CONSTRAINT [FK_CLIENTS_ARC_CLI_CHANGES] FOREIGN KEY ([REC_ID]) REFERENCES [dbo].[CLI_CHANGES] ([REC_ID]) ON DELETE CASCADE
GO
ALTER TABLE [dbo].[CLIENTS_ARC] ADD CONSTRAINT [FK_CLIENTS_ARC_VAL_CODES] FOREIGN KEY ([LOAN_LIMIT_ISO]) REFERENCES [dbo].[VAL_CODES] ([ISO])
GO
